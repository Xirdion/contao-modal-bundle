const modal=function(){const e=[];document.addEventListener("keydown",(t=>{if("Escape"!==t.key)return;if(0===e.length)return;o(document.getElementById(e[e.length-1]))})),document.addEventListener("click",(e=>{const t=e.target;if(t){if(t.classList.contains("js-modal-close"))return void o(document.getElementById(t.dataset.modal));t.classList.contains("js-modal-open")&&s(document.getElementById(t.dataset.modal))}}));document.querySelectorAll(".js-modal-time").forEach((e=>{!function(e,t){setTimeout((()=>{s(e,!0)}),t)}(e,parseInt(e.dataset.startTime))}));const t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target.querySelector(".js-modal");s(o,!0),t.unobserve(o)}}))}));function s(t,s=!1){const o=parseInt(t.dataset.stopTime),n=(new Date).getTime();let a=!(s&&0!==o);if(!1===a){const e="Modal"+t.id,s=new Date;s.setDate(s.getDate()+o);const i=window.localStorage,c=s.getTime(),d=i.getItem(e);(!d||parseInt(d)<n)&&(i.setItem(e,c.toString()),a=!0)}a&&!t.hasAttribute("open")&&(e.push(t.id),t.classList.add("visible"),t.classList.remove("hide"),t.showModal())}function o(t){const s=e.indexOf(t.id);s>-1&&e.splice(s,1),t.classList.add("hide"),setTimeout((function(){t.classList.remove("visible"),t.close()}),300)}document.querySelectorAll(".js-modal-scroll").forEach((e=>{t.observe(e.closest(".modal-element"))}))};modal();